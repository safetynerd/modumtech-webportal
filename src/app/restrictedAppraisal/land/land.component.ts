import { Component, OnInit } from '@angular/core';
import { FormGroup, FormBuilder, FormArray, FormControl } from '@angular/forms';
import LandData from '../../land.json';
import { ImageCroppedEvent } from 'ngx-image-cropper';


@Component({
  selector: 'app-land',
  templateUrl: './land.component.html',
  styleUrls: ['./land.component.css']
})
export class LandComponent implements OnInit {
  //list: any[] = [];
  //paymentOptionsForm:any;
  LandDetails: any = LandData;
  controlDetails : any;
  imgChangeEvt: any = '';
  cropImgPreview: any = '';
  testImage : any;
  base64:any;
  constructor() {
     console.log(this.LandDetails);
     console.log(this.LandDetails[0].Control_Details);
     this.controlDetails = this.LandDetails[0].Control_Details;

   }
   async ngOnInit() {
    
    this.base64 = await this.onFileChangeEvent();
  }

  async getBase64ImageFromUrl(imageUrl:any) {
    var res = await fetch(imageUrl);
    var blob = await res.blob();
  
    return new Promise((resolve, reject) => {
      var reader  = new FileReader();
      reader.addEventListener("load", function () {
          resolve(reader.result);
      }, false);
  
      reader.onerror = () => {
        return reject(this);
      };
      reader.readAsDataURL(blob);
    })
  }

  onFileChangeEvent(){
    var url = this.getBase64ImageFromUrl('https://appraisal.enrichedrealestate.com/api/Image/GetFile?id=182928')
    .then(result => result)
    .catch(err => console.error(err));
    return url;//"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAoHCBISFRgREhIYEhgYGBgRGBIYGBIRGBEYGhgaGRgYGhgcIS4lHB4rIRgYJjgnKy8xNTU1GiQ7QDs0Py40NTQBDAwMEA8QGhISGjQhISE0NDQ0NDQ0NDQ0NDQxNDQ0NDQxNDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0MTQ0MTE0NDQxNP/AABEIAOEA4AMBIgACEQEDEQH/xAAcAAACAwEBAQEAAAAAAAAAAAADBAIFBgABBwj/xABFEAACAQIDBAcECAUCAwkAAAABAgADEQQSIQUxQVEGEyJhcYGRMkKhsSNSYnKCssHRFDOSwvAHNENz8VNjdIOio7PD4f/EABgBAAMBAQAAAAAAAAAAAAAAAAABAgME/8QAIREBAQACAgMBAAMBAAAAAAAAAAECESExAxJRQSJSYTL/2gAMAwEAAhEDEQA/ANY8WeNPFnlxz0pUi1SNVItUlxFKPFakbeK1JUZ0tUi7RlxF2lxJdoJ4d4BhGAWnkm0haM3Tp1p1obDp0i7gbyB4kCAqY+iu+op7gc59BFbIcxt6hmRIlRiNvKPYQt3t2R6DX5RWjicRiWyhsi+8yjKFHjvJ7ryb5J1OWk8WXd4XrcoJ5GmKdJcoZRxJZhdjxJJ3mBqY+iN7r5dr5R7n6Uxv4m0C8XqbVpDdmbwFvnCU6hYZspW+4Hf6cJPtL0v1s7QaCeGaBeKqgTQLQzQTSauBtBGFaCaTVv0S8XeM1Is8mMaVqRaoI1UEWqS4zpR4s4jTxaoJcRSriAcRl4BxKSWcQDCMOIMITfcABmZmIVUHNmO4fPhc6R70JN9F2Eg7BRmYhV+sxsD4fW8rxPHbXRezRGc7jVdez+BD83v4LKWrVZ2LuxdjvZiWPqZnfJ8dGHh/ss8TtQDSnr9oiw8r7/MCVtbF1G3u3gCVHoIOeTO5W/rXHDGdQJl4yDLDkSBESy7LIMsYZZBliBcrI2voNe6FdIOxGo9RwiC52fszL2qg13hfq9574+0zyY6qu5289fnDLtapxAPlb5TXHKSaZZY5W7WjwTwFHHM5sEPiDoPURhpftKWrOwGgWhmgmk1UCaDMK0E0mrfoqpFnjVSLuJMZUpUizxupFnlM6UqRaoI1Ui7iVE0o4gXEYcRd5UqC1VwoLMcoAuW35R4cTuAHEkbt8zW09otV7I7CKbql73P13PvP38NwsNI5t/E3bqhuXtP3uRoPwg28S0pGmWWW3V48PWb/AENp5JAXuAdR2rcSOJHhIxNXTp06AeTwiSnQAZEgyw0iwgCzCCYRlxF2MQBMtcJs1SMzMG+ypuPMyra0kjlTcEg8wbQmp2VlvTQ5AosAAOQ0g2lbS2k49qzfA+saTGI3HKeR0+M1mUrP1setBNDNBNBUBaDaEaDaSp+i3i1SNPFnEhnSziLOI04i1SOVFK1BFnEacRdxLjOlHEWruFBdtQoLkcwovbzsB5xtxKfb75aRH1iqeI1Y/FF9Y7eDxm8oy1ZyxLMbkksTzJNyYBoZhBacfC8zdZJic9wbEW15boWqxUg203EeO4jlIhPpLcx+ojmKTOTTpqXK3zMNy91+J/aIwO8f9JEsNBzhsDhsynKGdzxG4DgDwHGL4ymQCCLFTu5W3w2Sc6dhkLLcamxPiBv9J0YdImSnkAEwijg3No40WA1MQAYyMNWXjOw9YowYeY4EcQYgawdGi+hLBuRIsfDT4Rs4KmPd9SYUUKVUBgoF+XZIPEG3GeqhXTMWHC+/14zSRnaAKYX2RaQaGeBeM4C0G0K0E0lT9FvF3jLwDyEUq4i7iNOIs4jZ0q4i7iNOIu4lSosKuJnukx7CDm7n0WmB8zNG4mc6Un+V4P8AmH/5Cr8c/kznWFTmG8c9Qe490BUysLqDla9gd45iHWpY5SLh+x4Hep8iPS8a2Ts411emvtrnZV07RBzZfME28JNunRFIodrW0a5TN8z47pokoIFa11oUwMxHtVnO4d5Jt6jnopsTA9bUehucrnS+lnTWxvuvlsfvTZVtiOuFQLTNR1qJVanoC9qi5ludB2b6nlIt0rTD7O2hRatauKiUiQBQolUL3bc7nUDU3sDy03y16SbERGrVMMuWgjikig5rgAK7huI6wlfKX9bomuLxLYpqH8OjZSaXZAZhvOUAanQnhe57V9NTW2Wjo1IrZGUpYaWBFtOVorlroTGvk/RemHYIebLfkbZgfUQe2sIaLm4sDrbgOdu7W/gRLHo/hHo4t6DjtJWRT33JW47iNR3GabppsbPRNRR2k396/wCH4x+2qWv187nkhh0OUneFbKe7l5SRmhINF09owzwFN+1fnp/nnEHVxp6RaN4kWHpFIjpvA4o0zruO8frLpiCLg3B1B5ynwmHWoCt8rjUcQw/eNYYtTPVuND7J3i/K8qXSMpDDiAeMNANLKAtBNDNBNJOP0W8A4jLxepMxSziLuI04i7iNnSriLuI04i7iPaLCriZvpShyo3AMy+F1Uj8rek07iV21cL1lN0A1Izr99LsvqM6+LiOnhdZPn1dAxQHcXVT4E2M1Gzqa4OqKtRuqRl6yldWdq9j1bIqr2je+88NdZl8UpKm28ag+EvjRxGIx2FrUauU1TQpU7FWeinVIrOqG9kF37X1lbiJOTpjU9INgPSxFHaGHTMGdRUQaG7WysB9o5VPeRzM29KgCAw1BAIPMHUS0NEX0GnDw4SS0e6YW7bSK9cNPf4eWQpyLJEGM2r0bBr/xSAZj1OccSUe1/wChv/bEusRhFdSrC4YFSOYIsZaMogXENjT4bX2W2HxOIoMLgZWGmhU3+YIlNisMUfINb+z393jwn2HpJsPrai1kHaNN6DfCpTY+DJl/FPm+08IzoaiggoQQw3qxuQPPKfMTbHLbO4s05ir6G48ZYY5g9qyjKH1ZeCv71u4kEjzHCV1SWgbFtcL3jN/nxis6egXiCx2agbQHK69pW5jiCOI/eWzrcWYDXeN4mfpM1JwSCCp1HzHpNEWBAI1BFx4GVijIsy20gHjLiLtKEAaCeHeBaTVP0a0A4jDiAcTIFnEXcRpxAOJTOlXEAwjLiAcQ2mwq4gXB4GxGoPIjUH1tGXEA4lbTWE2/hRTrNlFkf6RByDXuv4WDL+Gaz/TPb9OjSejUVmNJ86ZQuYo4NtSRopD6f95fhKnpegCI5F8jHzVrZh6gEd7GUmycamExKPUGek1kqAXGeg9jmFtQy9lhbW6xZTcdOF3y+w1em1JTYUXPmL+gBl9snaKYlOsRWUXK2YAG4te1jqNZmKnQ5j2qNdXQ9pS4IJUi4OZbhvEAeE1OysGKFJKQ1yjUjix1Y+pMwum82bME0KYJogC8A8M8A8ARxGKpqcpcZt+S92tzyjWZHZ+zyTiUqU3CO1l7FQXGZyGFxpa4ImkH89u7N8Uoft8IyZpjjwzyy5fI8X0QxhDIlAkZmZSXpLvtwLXGtzKmp0Mx430l/rpfvPtdUStxImjO18aqdGsWu+l6PTP90TqbMrrvpt5WPyn1XHJvmdxqRlMmf6pK1Nc/YdRludCbbrg7xJYEMq5GGq7jvDKdxB9ZPErK6qCNQSDzBtGNLF4BxK8Ytx71/Gxkxjz7y+Y/aGxoZ4F4doFoG/RzwDiMOIFxMdgs4gXEYcQLiPabCziAcRlxF3Ee02FnEC4jLCBcQ2ixSdJMP1mHccVGf03/AAvM3jsMiU8LUqLdAiU6ltDkdb3H2h9IfSbivTDKVO5gVPgRaUW3MDfC9XvKIq6cwBu81A8CY9qwuuH0XodRrYan/BViaiU1D4fEjVa1A+yptudbgW5FbX1jdKtXxhJps2HoXIFS30te2hyX9lftfPW2b/0k6RDE4b+EqN9JhgFW+96JNkP4fY8MvOaTpLg8RUphcO2UDMXpr2DUB10PjfTjeZXiuucw1hsHhblUC1WW2ZnY13Um+8sTlOh0Fo20peiWzXoUmNRcrOwbKd6qBYXHA6nSXTSaqAPF6kO0BUgFNhjepUby9HdPkixwxLZhuGbmVP8AUiufi5j1pvOmFL1BEMQJYuIliBBNUWMWZ3HJNNjFlDjllRDNYlZWVhLjFLKnE7jG0iuadSTMwX18OM5o7gKWhc8dB4cfj8ojFcQDRsU73gXp84yfopoFxDuIJpgZdhAuIw4gHEE0u4gHEZcQLiGysLOIBxGXEEwj2jRdhAVqYdSp3EFfURphBMI9lp8x2ZtSrs3GCvT9qmxVkuQrqdGRu4jTuIB4T9G7K2lSxVFMTRbMjrmU8V4MrDgwNwR3T4B0x2aRiFZRpWso+9otvkfOO/6ddLzs2scPXv8Aw9RrONb0H9nrAPIBhvsOagQyntHThk++NBPJq4YBlIYEBgwIYMCLggjeCOMqtqbdw2H/AJlQZuFNe25PIKP1mbU20xPSrpMFVqGGOZ7EPUB0TTcDz7/TmEdt9JK2JuiXoUzpYG7uPtHgO4SiSmCVQD2mC/1ED9Y8Z9Tlfj6Js9LJb7TL/Scg+CiNxbA+wp+sM/8AV2v1jM1ZBVBEsQI9UidcQKqfFiUGOWaLFCUWNWOM2bxaykxptpzl7jtLkzN4h8xJlNMS6oWIUbybS6yBQFG4C0BszD76h8F/U/p6xthEKglMjU+kBWj9ciI1TAR+hWgnEM0G8wUXcQLiMOIFxERdxAuIy4gHEE6LuIvXJAuLDdqbkAX1OnIXMbcQLiPZWANRqZQ2VTzAYgg7iLEWuDcb4o+IVdHPV8O3ZRfkG9knwMscG2jIeGo8rA/AofFjFMfRDAqwBB0IOoM09ZRZFP0j2ea9A5PbQirTPNl1sPEXHjaZ3pdsYVEGOoj2lV3UcVIBFQeW/wBecsMTstqdzQqPTO/KGZQfMfreVTbRxKfR9a620ynKbd2ohMbBj/gHRnbuJZqeCbE1BROZFQMQFJuQNNbE6WvbWa3E4GnSRmNTKbX7Rprntra5Fzfdv4z5ri8O1Mh0uBe4I0KneN27ul3hCHAfeSLk7z36x+u6q7+tJYWuNb6333HjJYMfSJ3Or/0HP/bFcE90y/V08t4/byljsqnmqqPsv/6kKD4uJOuV74b7DJlVV5KF9BaFniz2UkOpFK0caI4qoqKWdgoG8k2ECqtxQlDtB1UEsQBzMLjtts5NPC02qEaF7aL66DzI8JmtqUmBvXqZ3O6mhzEeLblHgJUTpW7Txec2Gi/FpUuZatgGOrDIPq8f88YniMidlRc7udo1wLCYtlZQzEpcAqToBuv3W3+Uunamp0dTxBuDM4yHlBMvdELF/VqA6g3irtKfdCpiXXjfuOsQfp5hBNDuIFxMFAsIFxGGEC4i2RdhBOIwwniUS3cOJ5RlomwgmWPLhszZb+cNiKGUWUeOm+BaUg7Lqeeh9coHq9/wiSxVOe41CLNyLN6IxHxAjmJpzXG8FYzmIpTM7fwtir87qfLUfrNtWozOdJgAqLxLFvIC36y4mcVl+qDCxFwdCJ5s/DmmSm9fbVvmp793rGlSHRY1Wi4c5WHeMvmNR/d6zQ9GaeaqTyyL6sX/APp+MzjtYqOJPoADc/5zmu6HUtGqcyT5XCr8VqDzkWcql/i1iz2QzW1OnG+60q3xFTE9mgxp09zYm3aqd1IHh9s6crwCW0dqhG6qmhrVT/w19zvdtyjxla+yGqfSYypnI16tSUp0x3nQn4d95arSoYRCQBTXezG7M7bhc73Y7h6CVz4Wpie3XBSnvXD8X5NVP9nrxEaaq61Z6o6vCKKdMdk1stl7xTXj47oidnU6VyoLMd7t2mY+PDymnxC2FhoALAbrSg2nTLDLewO+2hI5A8PGCay+PqNUJWnoo0ap+glY9FV0HrLzEoALAWA0AGlpT4mUqK6qIs0bqiKvEsFhBkQrQbRE/UzQTCGaDYTBYLCCYQzCSoUwx18YgIiAqLbrQDqBoN3KOMsWZI6RVRY3EJUe4jHVACJup11i6BPH07gfeRfVgv6yajMitzVW9ReRxDnS+vaTnp211jOEX6NPuJ+UTTDpNV1alMBtXEdbUZ+Hsr90bvXf5za9KcV1dPIPae6+C+8f085hai+6N5+A4/5+01iL2XUX8N3jJlgv6DiZ67qug1tpYcP2i7PxO/4AchC08cdrTY2z+vclyVRB1lRx7q7gic3bUAcSSdwm72VSCJoAoJ0UagAaacwTdvxTI7D2fiGZFqK1NP5yqRlLsdFcjeQoBIJ0uFt7U3CIAAALAaAcgNwkqvwOphus/map/wBnwbvf633d3O/Bomw8OA19BBVaq01LuQqgXJPCeYR2cZ2GXNqqHeq8M32jv7t0CCGFLOKlTUr7Cb1pd/e558Nw4kzcRorF6ggFbipRY3jL7FSixvGOIrPYzjKNzftc93hz8/2lxtNtyDe2ngOJlZiBKViraoitSN1OPpFXiWA0GYRoMxE/VDSDCNmnbvkKid059K2VZDa9pOgmXU6aRlxYRViYdG9dzAsx4Twox1khSPvG/dDdoFdha8TqOvO0Kz+f6RKot4ZZFoHF2I0PvJ+dYzgv5dP7iflERxIsL/aT86wuJrdVhi24rTAHjlAHxIl+Poqxu28Z1tV3J7K3VeQVePnqfOVWztntiWZi2VLi5OthwULxPHXmYLadXKgX6xt5DU/oPOWWCqmjRAAuzdu267NuB5WFvQy8r8Tj9pXaeGwuHtTpoajm1gSbLfd2VsCeQjWxcKKRDZVeqfZzWyUbalzwuACb7ltfU2slTApk1GbM5uWflfeByE2PRvZZA6yoO0eB4WNwnkQCftAD3NSKtP4DClQXcszNqWa+Y34tf3jvI4dlfdEdK2FzoBqTuAHOHyyox4bFOcOhK00P01Qe8d/VKfn6cwWkvhr4upnI+gRuwD/xXHvEch/m8gXwWeUqaooRAFUCwA4CTgIiwitaNNFa0BVZiRpKLGiW71Mzv9krT88uc/nHpM/0hrZKbW3t2B57/gDHEXtnQ3WO9Th7C+HP/OcUxZsCfOWi0ciKvG1z4nUyp2kbKe/SUc7VtuyO/X11i7xojsjwHyi1SJoXeChXgzAn6zY8JF5FhIMZhtWnrmCYCesYNorTczwbOZxkGk7NFni7wzReuxFgouzaKOF+Z7hvMnsK/aTkgoovxY8rAuoHNjl9PEXh0sqZaAQe86r5C7foIXEsFqU8Oup/nOx3sS6Jc+IZ/ICVvTKprTTuZj52A+RnRjj6zTLKsBj3z1lTgtgfPtN8LSwxNcgAn3gSB3Xtf1B9JVbKpnEYg65QSzM/BEF2Zz91FJjlBDjcTkS6JvJ39VRSwHibZQObEc5Vh64XnRbZrV3FVvZUnJ3su99eC6W5sRwVp9CRAoCgWAFgOQiuzcItJAqrk0AC78ij2Uvxtc3PEljxjcADiS5GSmcrN7+/q14t48hz7gZ7hqCU1FNBYDzJ5kniTvJhZ0A6dOnQCLRaqIy0Tx9TIjv9VWf0BP6QDP7OfOj1Pr1ajA92ay/ACZ/bZ6zEJS4L2m8TqfgB/VNBsdMuGS54MSfxHWZ3Zn0j1K54nTuzG4HkABHEIYwTObWO4d5Pp/1mmxgmU2o13I5aSjxA90eA+UVqRpdVHp6G0WqQWWeDMK0GYg/VzQTTp051IGQaeTpNNBpAzp0kBtFl/mj7j/nSdOjw/wCivSqP+/P3F/KJW9M/bX/l/wBzTp06mVYXor7GK/8AC1PzU5ef6e+3W8cN/wDNOnQW+mzp06InTp06AdOnToB48qtvf7et/wAt/wApnToEo0/2f/lP8mlNsT+W/wB8/lE6dKib0hi5jsb7bfePznToxignsjz+Zi9SezomhVoMzp0A/9k=";
  }

  onFileChange(event: any): void {
    this.imgChangeEvt = event;
    console.log(event);
}
cropImg(e: ImageCroppedEvent) {
    this.cropImgPreview = e.base64;
}
  imgLoad() {
      // display cropper tool
  }

  initCropper() {
      // init cropper
  }
   
  imgFailed() {
      // error msg
  }



}
